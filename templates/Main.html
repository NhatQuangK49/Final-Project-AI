<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC Bakery - Nhận diện bánh theo khay</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='bareky.css') }}">
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz-43s-8JWl-19a6w-ET93-Al2H-Gg3u-exw&s" type="image/x-icon">
</head>
<body>

    <div class="container">
        <header>
            <h1>Hệ thống nhận diện bánh theo khay</h1>
        </header>

        <main>
            <!-- Khu vực tải ảnh lên -->
            <div class="upload-section">
                <input type="file" id="image-upload-input" accept="image/*" style="display: none;">
                <button onclick="document.getElementById('image-upload-input').click()" class="btn-upload">
                    Chọn ảnh khay bánh
                </button>
                <!-- Canvas để vẽ và hiển thị ảnh -->
                <canvas id="image-canvas" class="hidden"></canvas>
            </div>
            
            <div class="controls">
                <button id="predict-tray-button" class="btn-predict" disabled>Nhận diện khay bánh</button>
                <button id="reset-button" class="btn-secondary" disabled>Làm lại</button>
            </div>

            <div id="loader" class="loader hidden"></div>

            <!-- Khu vực hiển thị kết quả -->
            <div id="result-section" class="result-section hidden">
                <h2>Kết quả nhận diện</h2>
                <table id="result-table">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Tên bánh</th>
                            <th>Độ chính xác</th>
                            <th>Giá tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dữ liệu sẽ được chèn vào đây bởi JavaScript -->
                    </tbody>
                </table>
                <div class="total-price">
                    <strong>Tổng cộng:</strong>
                    <span id="total-price-value"></span>
                </div>
            </div>

            <!-- Khu vực hiển thị mã QR -->
            <div id="qr-section" class="qr-section hidden">
                <h2>Quét mã để thanh toán</h2>
                <img id="qr-code-image" src="" alt="Mã QR thanh toán">
                <p id="qr-info" class="qr-info"></p>
            </div>
        </main>
        <footer><p>&copy; 2025 - ABC Bakery AI Project</p></footer>
    </div>

    <script src="{{ url_for('static', filename='ABC_bakery.js') }}"></script>
</body>
</html>